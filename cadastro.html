<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cadastro â€¢ OwnFleet</title>
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

const SUPABASE_URL = "https://bzbkqvxixxkcmfrhtcxq.supabase.co";
const SUPABASE_ANON_KEY =
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ6YmtxdnhpeHhrY21mcmh0Y3hxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExMzI2MzUsImV4cCI6MjA3NjcwODYzNX0.TNKG7NIx7HHSTcfU2IYiba9zV0zaPYvhGSImA62LebE";
const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

async function carregarUsuario() {
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) window.location.href = "index.html";
  document.getElementById("user-email").textContent = user.email;
}

document.addEventListener("DOMContentLoaded", async () => {
  await carregarUsuario();

  document.getElementById("logout").addEventListener("click", async () => {
    await supabase.auth.signOut();
    window.location.href = "index.html";
  });
});
</script>
<style>
body {
  font-family: "Poppins", sans-serif; background: #f6f6f9; color: #333;
  display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;
}
.container {
  background: white; padding: 40px; border-radius: 18px;
  box-shadow: 0 8px 30px rgba(0,0,0,.08); text-align: center;
}
button {
  background: #ff5a2a; color: white; border: none; padding: 12px 28px;
  border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;
}
button:hover { background: #ff713f; }
</style>
</head>
<body>
  <div class="container">
    <h2>Bem-vindo!</h2>
    <p id="user-email">Carregando...</p>
    <button id="logout">Sair</button>
  </div>
</body>
</html>
